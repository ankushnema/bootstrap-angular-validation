"use strict";angular.module("bootstrap.angular.validation",[]).config(["$httpProvider",function(a){var b=["$rootScope","BsValidationService",function(a,b){return{response:function(a){if(b.checkNgIncludedURL(a.config.url)){var c=angular.element(document.createElement("div"));c.append(a.data),b.addDirective(c),a.data=c.html()}return a}}}];a.interceptors.push(b)}]),angular.module("bootstrap.angular.validation").directive("form",["$parse","$rootScope","BsValidationService",function(a,b,c){return{restrict:"E",require:"form",priority:1e3,compile:function(b){b.attr("novalidate","novalidate"),c.addDirective(b);var d=b.findAll("[ng-include]");if(d.length>0){var e=a(d.attr("ng-include"))();c.addToNgIncludedURLs(e)}var f=function(b,c,d,e){e.$validate=function(){b.formSubmissionAttempted=!0},c.on("submit",function(f){if(b.$apply(function(){b.formSubmissionAttempted=!0}),e.$invalid)return c[0].querySelector(".ng-invalid").focus(),!1;b.formSubmissionAttempted=!1;var g=a(d.onSubmit);return b.$apply(function(){g(b,{$event:f}),b.formSubmissionAttempted=!1}),!0})};return{pre:f}}}}]),angular.module("bootstrap.angular.validation").directive("bsValidation",["$interpolate","BsValidationService",function(a,b){return{restrict:"A",require:"ngModel",link:function(c,d,e,f){function g(c,d){var f=c.attr("title-"+d);return f||(f=b.getDefaultMessage(d))?a(f)({validValue:e[d]}):(console.warn("Not found any message for the key",d),"Please fix the error.")}function h(){if(!c.formSubmissionAttempted||!f.$invalid)return l.removeClass("has-error"),l.length>0&&l.findAll("span."+i.join(".")).addClass("ng-hide"),!1;var a=!1;angular.forEach(f.$error,function(b,c){if(b&&!a){l.addClass("has-error");var e=g(d,c),f=l.findOne("span."+j),h='<i class="fa fa-exclamation-triangle fa-fw"></i>';if(0===f.length){var i=d,m=l.findOne(".input-group");m.length>0&&(i=m);var n='<span class="'+k+'">'+h+e+"</span>";i.after(n)}else f.html(h+e).removeClass("ng-hide");a=!0}})}var i=["validation-error","help-block"],j=i.join(","),k=i.join(" "),l=d.parents(".form-group");l&&0!==l.length||(l=d.parents("[form-group]"));var m=["equalTo","minlength","maxlength","min","max","number","digits","length"];angular.forEach(m,function(a){var g=d.attr(a);(g||"undefined"!=typeof g&&g!==!1||e[a])&&b.addValidator(c,e,f,a)}),c.$watch(e.ngModel,function(){h()}),c.$watch("formSubmissionAttempted",function(){h()})}}}]),angular.module("bootstrap.angular.validation").factory("BsValidationService",function(){function a(a,b,c,e,f){var g=f.$isEmpty(b)||d[a].validator(b,c,e,f);f.$setValidity(a,g)}var b={required:"This field is required.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",number:"Please enter a valid number.",digits:"Please enter only digits.",min:"Please enter a value greater than or equal to {{validValue}}.",max:"Please enter a value less than or equal to {{validValue}}.",length:"Please enter all {{validValue}} characters.",minlength:"Please enter at least {{validValue}} characters.",maxlength:"Please enter no more than {{validValue}} characters.",editable:"Please select a value from dropdown.",pattern:"Please fix the pattern.",equalTo:"Please enter the same value again."},c=[],d={digits:{validator:function(a){return/^\d+$/.test(a)}},equalTo:{validator:function(a,b,c){return a===b.$eval(c.equalTo)}},number:{validator:function(a){return/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)}},min:{validator:function(a,b,c){return parseFloat(a)>=parseFloat(c.min)}},max:{validator:function(a,b,c){return parseFloat(a)<=parseFloat(c.max)}},length:{validator:function(a,b,c){return a.length===parseInt(c.length)}},minlength:{validator:function(a,b,c){return a.length>=parseInt(c.minlength)}},maxlength:{validator:function(a,b,c){return a.length<=parseInt(c.maxlength)}}},e=[],f=["input","select","textarea"];angular.forEach(f,function(a){e.push(a+"[ng-model]"),e.push(a+"[data-ng-model]")});var g=e.join(",");return{addDirective:function(a){var b=a.findAll(g);return b.attr("bs-validation",""),b},addToNgIncludedURLs:function(a){-1===c.indexOf(a)&&c.push(a)},addValidator:function(b,c,d,e){var f=function(f){return a(e,f,b,c,d),f};d.$parsers.push(f)},checkNgIncludedURL:function(a){var b=c.indexOf(a);return b>-1?(c.splice(b,1),!0):!1},getDefaultMessage:function(a){return b[a]},setValidity:function(b,c,d,e,f){a(b,c,d,e,f)}}}),angular.element.prototype.findOne=function(a){return angular.element(this[0].querySelector(a))},angular.element.prototype.findAll=function(a){return angular.element(this[0].querySelectorAll(a))},angular.element.prototype.parents=function(a){for(var b=!!document.documentMode,c=this[0],d=[];c.parentNode.parentNode;)c=c.parentNode,a?b?c.msMatchesSelector(a)&&d.push(c):c.matches(a)&&d.push(c):d.push(c);return angular.element(d)};